$(document).ready(function(){if(""!=window.location.hash){var e=window.location.hash;e=e.substring(0,e.length-4),$("[data-toggle='tab'][href='"+e+"']").trigger("click")}$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){window.location.hash=$(this).attr("href")+"-tab"}),$(".js_ajax").on("submit",function(){$(this).find(".js_submit").attr("disabled","disabled");$(this);var e=window.location.href.split("/"),t=$(this).serialize();return $.ajax({url:e.slice(0,4).join("/")+"/",dataType:"json",type:"POST",data:t,success:function(e){console.log(e),1==e.status&&($(".js_ajax").trigger("reset"),$("#infoModal .modal__header").html(e.title),$("#infoModal .modal__content").html(e.sub_title),$.fancybox.open({src:"#infoModal",type:"inline"}),grecaptcha.reset(modal),grecaptcha.reset(main))}}),!1}),$("#get_teacher_schedule").on("click",function(e){e.preventDefault();var t=window.location.href.split("/"),a=$("#teacherSearch").val(),s=$(".js_teacher #schedule-year-styler .jq-selectbox__select-text").text(),n=$(".js_teacher #schedule-quoter-styler .jq-selectbox__select-text").text();return $.ajax({url:t.slice(0,4).join("/")+"/",dataType:"json",type:"POST",data:"tid="+a+"&year="+s+"&quarter="+n+"&ajax=get_schedule_teacher",success:function(e){if(console.log(e),1==e.status)$(".bad-message").empty(),$(".bad-message").css("display","none"),$(".teacher").css("display","none"),$(".teacher tbody").empty(),$(".teacher tbody").append(e.content),$("#teacher_fio").empty(),$("#teacher_fio").append(e.teacher_fio),$(".teacher").fadeIn("slow");else if(0==e.status){$(".bad-message").empty(),$(".bad-message").css("display","none");var t=$(".somthing-went-wrong").text();$(".teacher").remove(),$(".schedule-table-wrap").append("<h3 style='text-align: center'>"+t+"</h3>")}else 2==e.status&&($(".teacher").css("display","none"),$(".bad-message").empty(),$(".bad-message").append(e.content),$(".bad-message").fadeIn("slow"))},statusCode:{500:function(){var e=$(".somthing-went-wrong").text();$(".teacher").remove(),$(".schedule-table-wrap").append("<h3 style='text-align: center'>"+e+"</h3>")}}}),!1}),$("#get_group_schedule").on("click",function(e){e.preventDefault();var t=window.location.href.split("/"),a=$("#groupSearch").val(),s=$(".js_group #schedule-year-styler .jq-selectbox__select-text").text(),n=$(".js_group #schedule-quoter-styler .jq-selectbox__select-text").text();return $.ajax({url:t.slice(0,4).join("/")+"/",dataType:"json",type:"POST",data:"gid="+a+"&year="+s+"&quarter="+n+"&ajax=get_schedule_group",success:function(e){if(console.log(e),1==e.status)$(".bad-message").empty(),$(".bad-message").css("display","none"),$(".group").css("display","none"),$(".group tbody").empty(),$(".group tbody").append(e.content),$("#group_title").empty(),$("#group_title").append(e.group_title),$(".group").fadeIn("slow");else if(0==e.status){$(".bad-message").empty(),$(".bad-message").css("display","none");var t=$(".somthing-went-wrong").text();$(".group").remove(),$(".group .schedule-table-wrap").append("<h3 style='text-align: center'>"+t+"</h3>")}else 2==e.status&&($(".group").css("display","none"),$(".bad-message").empty(),$(".bad-message").append(e.content),$(".bad-message").fadeIn("slow"))},statusCode:{500:function(){var e=$(".somthing-went-wrong").text();$(".teacher").remove(),$(".schedule-table-wrap").append("<h3 style='text-align: center'>"+e+"</h3>")}}}),!1})});